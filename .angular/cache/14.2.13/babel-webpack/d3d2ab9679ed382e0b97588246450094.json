{"ast":null,"code":"import { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./firebase.service\";\nimport * as i2 from \"./auth.service\";\nexport let ShareholdingService = /*#__PURE__*/(() => {\n  class ShareholdingService {\n    constructor(firebase, authService) {\n      this.firebase = firebase;\n      this.authService = authService;\n      this.baseUrl = 'https://hown-stock-default-rtdb.firebaseio.com/';\n    }\n    /** 取得投資明細 */\n\n\n    getShareholding() {\n      return this.firebase.getApi(this.baseUrl + this.authService.userId + '/shareholding.json', 'getShareholding').pipe(map(res => {\n        const postsArray = [];\n\n        for (const key in res) {\n          if (res.hasOwnProperty(key)) {\n            postsArray.push({ ...res[key],\n              id: key\n            });\n          }\n        }\n\n        return postsArray;\n      }));\n    }\n    /** 新增持股明細 */\n\n\n    addShareholding(req) {\n      return this.firebase.postApi(this.baseUrl + this.authService.userId + '/shareholding.json', req, 'addShareholding');\n    }\n    /** 刪除持股明細 */\n\n\n    deleteShareholding(id) {\n      return this.firebase.deleteApi(this.baseUrl + this.authService.userId + `/shareholding/${id}.json`, 'deleteShareholding');\n    }\n    /** 更新持股明細 */\n\n\n    updateShareholding(req) {\n      return this.firebase.updateApi(this.baseUrl + this.authService.userId + '/shareholding.json', req, 'updateShareholding');\n    }\n\n  }\n\n  ShareholdingService.ɵfac = function ShareholdingService_Factory(t) {\n    return new (t || ShareholdingService)(i0.ɵɵinject(i1.FirebaseService), i0.ɵɵinject(i2.AuthService));\n  };\n\n  ShareholdingService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: ShareholdingService,\n    factory: ShareholdingService.ɵfac,\n    providedIn: 'root'\n  });\n  return ShareholdingService;\n})();","map":null,"metadata":{},"sourceType":"module"}