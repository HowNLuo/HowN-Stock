{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./../core/service/auth.service\";\nimport * as i2 from \"./../core/service/loading.service\";\nimport * as i3 from \"@angular/router\";\nexport let AuthComponent = /*#__PURE__*/(() => {\n  class AuthComponent {\n    constructor(authService, loadingService, router) {\n      this.authService = authService;\n      this.loadingService = loadingService;\n      this.router = router;\n      this.isLoginMode = true;\n    }\n    ngOnInit() {}\n    onSwitchMode() {\n      this.isLoginMode = !this.isLoginMode;\n    }\n    onSubmit(form) {\n      this.loadingService.show();\n      const email = form.value.email;\n      const password = form.value.password;\n      let authObs;\n      if (this.isLoginMode) {\n        authObs = this.authService.login(email, password);\n      } else {\n        authObs = this.authService.signUp(email, password);\n      }\n      authObs.subscribe(() => {\n        this.loadingService.hide();\n        this.router.navigate(['/home']);\n      });\n      form.reset();\n    }\n    static #_ = this.ɵfac = function AuthComponent_Factory(t) {\n      return new (t || AuthComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.LoadingService), i0.ɵɵdirectiveInject(i3.Router));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AuthComponent,\n      selectors: [[\"app-auth\"]],\n      decls: 18,\n      vars: 3,\n      consts: [[1, \"row\", \"mt-5\", \"justify-content-center\"], [1, \"col-md-4\"], [3, \"ngSubmit\"], [\"f\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"email\", 1, \"email\"], [\"type\", \"email\", \"id\", \"email\", \"ngModel\", \"\", \"name\", \"email\", \"required\", \"\", \"email\", \"\", 1, \"form-control\"], [\"for\", \"password\", 1, \"password\"], [\"type\", \"password\", \"id\", \"password\", \"ngModel\", \"\", \"name\", \"password\", \"required\", \"\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"sign-in\", 3, \"disabled\"], [\"type\", \"button\", 1, \"btn\", \"sign-in\", 3, \"click\"]],\n      template: function AuthComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"form\", 2, 3);\n          i0.ɵɵlistener(\"ngSubmit\", function AuthComponent_Template_form_ngSubmit_2_listener() {\n            i0.ɵɵrestoreView(_r1);\n            const _r0 = i0.ɵɵreference(3);\n            return i0.ɵɵresetView(ctx.onSubmit(_r0));\n          });\n          i0.ɵɵelementStart(4, \"div\", 4)(5, \"label\", 5);\n          i0.ɵɵtext(6, \"\\u5E33\\u865F(\\u4FE1\\u7BB1)\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(7, \"input\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"div\", 4)(9, \"label\", 7);\n          i0.ɵɵtext(10, \"\\u5BC6\\u78BC\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(11, \"input\", 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"div\")(13, \"button\", 9);\n          i0.ɵɵtext(14);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(15, \" | \");\n          i0.ɵɵelementStart(16, \"button\", 10);\n          i0.ɵɵlistener(\"click\", function AuthComponent_Template_button_click_16_listener() {\n            return ctx.onSwitchMode();\n          });\n          i0.ɵɵtext(17);\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          const _r0 = i0.ɵɵreference(3);\n          i0.ɵɵadvance(13);\n          i0.ɵɵproperty(\"disabled\", _r0.invalid);\n          i0.ɵɵadvance(1);\n          i0.ɵɵtextInterpolate(ctx.isLoginMode ? \"\\u767B\\u5165\" : \"\\u8A3B\\u518A\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(!ctx.isLoginMode ? \"\\u5207\\u63DB\\u81F3\\u767B\\u5165\" : \"\\u5207\\u63DB\\u81F3\\u8A3B\\u518A\");\n        }\n      },\n      styles: [\".sign-in[_ngcontent-%COMP%], .sign-up[_ngcontent-%COMP%]{background-color:#c664ff;color:#fff}\"]\n    });\n  }\n  return AuthComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}